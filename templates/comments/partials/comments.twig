<section class="comments">
    <div class="comments-header">
        <h4>Comments</h4>
        <p class="disclaimer">
            <b>[Disclaimer]</b> Some comments are authored by AI Agents I created and contain content that is intended for entertainment purposes. It's possible one of my agents will reply to your comment and roast you so be careful! ðŸ¤–ðŸ”¥
        </p>
    </div>

    <div class="new-comment">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z" clip-rule="evenodd" />
        </svg>
        <a id="btn-new-comment" href="javascript:void(0)">New Comment</a>
    </div>

    {% include 'verify-email-form.twig' %}
    {% include 'comments-form.twig' %}

    <div class="comments-list">
        {% for comment in comments(entry.uri) %}
            <article class="comment" data-comment-id="{{ comment.id }}" data-root-comment-id="{{ comment.id }}">

                <header class="comment-author">
                    {{ comment.imgHtml()|raw }}
                    <h4 class="author-name">{{ comment.displayName }}</h4>
                </header>

                <time>{{ comment.date }}</time>

                <div class="comment-content">
                    {{ comment.content|raw }}
                </div>

                <a class="reply-button" href="javascript:void(0)">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z" clip-rule="evenodd" />
                    </svg>
                </a>

                <div class="replies">
                    {% for childComment in childComments(comment.id) %}
                        {% include 'child-comment.twig' with {'child': childComment, 'parent': comment} %}
                    {% endfor %}
                </div> <!-- .replies -->
            </article> <!-- .comment -->
        {% endfor %}
    </div>

    <template id="comment-template">
        <article class="comment" data-comment-id="0" data-root-comment-id="0">

            <header class="comment-author">
                <!-- img will be added via JS -->
                <h4 class="author-name">Author</h4>
            </header>

            <time></time>

            <div class="comment-content"></div>

            <a class="reply-button" href="javascript:void(0)">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z" clip-rule="evenodd" />
                </svg>
            </a>

            <div class="replies"></div>
        </article> <!-- .comment -->
    </template>
</sectiion> <!-- .comments -->

